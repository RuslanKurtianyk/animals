var app=angular.module("animalApp",["ngRoute"]);app.run(function(a){a.message="test message"}),app.config(function(a,b){a.when("/cats",{templateUrl:"app/views/catView.html",controller:""}).when("/dogs",{templateUrl:"app/views/dogView.html",controller:""}).when("/horses",{templateUrl:"app/views/horseView.html",controller:""}).when("/contact-us",{templateUrl:"app/views/contactUs.html",controller:"ContactUsController"}).otherwise({redirectTo:"/cats"})}),app.run(function(a){document.addEventListener("click",function(b){a.$broadcast("documentClicked",b.target)})}),app.directive("menu",function(){return{restrict:"E",template:"<div ng-class='{ show: visible, left: alignment === \"left\"}' ng-transclude></div>",transclude:!0,scope:{visible:"=",alignment:"@"}}}),app.directive("menuItem",function(){return{restrict:"E",template:"<div ng-click='navigate()' ng-transclude></div>",transclude:!0,scope:{hash:"@"},link:function(a){a.navigate=function(){window.location.hash=a.hash}}}}),app.directive("contactUs",function(a){return{restrict:"E",templateUrl:"app/views/contactDirective.html",link:function(a,b,c,d){}}}),app.controller("NavigationController",function(a,b,c){a.isActive=function(a){return a===c.path()}}),app.controller("MenuController",function(a,b){function c(){a.$apply(function(){a.close()})}a.leftVisible=!1,a.close=function(){a.leftVisible=!1,a.rightVisible=!1},a.showMenu=function(b){a.leftVisible=!0,b.stopPropagation()},b.$on("documentClicked",c)}),app.controller("ContactUsController",function(a,b){a.contactData={email:"",message:""},a.validateEmail=function(){var b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a.contactData.email)},a.checkMessage=function(){return!(a.contactData.message.length<10)},a.testEmail=function(){a.validateEmail()&&a.checkMessage()?(b.message=JSON.stringify(a.contactData),document.getElementById("modal-window").show(),document.getElementById("yes").setAttribute("disabled","on")):a.validateEmail()&&!a.checkMessage()?alert("Message is too short!"):!a.validateEmail()&&a.checkMessage()?alert("Invalid email address! Please enter a valid email address."):alert("Invalid data! Please enter a valid email and message!")}}),app.controller("DialogController",function(a,b,c){a.getMessage=function(){return b.message},a.closeDialog=function(){document.getElementById("modal-window").close(),console.log("Help is not needed.")},a.toHelp=function(){document.getElementById("yes").removeAttribute("disabled"),document.getElementById("modal-window").close(),c.open("https://github.com/RuslanKurtjanyk/animals","_blank")}}),app.controller("FooterController",function(a,b){a.dialogWindow=angular.element(document.querySelector("#modal-window")),a.openHelp=function(){b.message="Need help?",document.getElementById("modal-window").show(),document.getElementById("yes").removeAttribute("disabled")}});